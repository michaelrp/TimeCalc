@using TimeCalc.Models

<div class="form-row">
  <div class="form-group col-4">
    @* <select class="form-control" [(ngModel)]="pb.puzzle" (change)="onPersonalBestChanged()">
      <option *ngFor="let puzzle of puzzles" [value]="puzzle">{{ puzzle }}</option>
    </select> *@
    <input type="text" class="form-control" @oninput="OnPuzzleChanged" value="@PersonalBest.Puzzle" placeholder="Single" />
  </div>
  <div class="form-group col-4">
    <input type="text" class="form-control" @oninput="OnSingleChanged" value="@PersonalBest.Single" placeholder="Single" />
  </div>
  <div class="form-group col-4">
    <input type="text" class="form-control" @oninput="OnAverageChanged" value="@PersonalBest.Average" placeholder="Average" />
  </div>
</div>

@code {
    [Parameter]
    public PersonalBest PersonalBest { get; set; }

    [Parameter]
    public EventCallback<PersonalBest> OnPersonalBestChanged { get; set; }

    private Task OnPuzzleChanged(ChangeEventArgs e)
    {
        PersonalBest.Puzzle = e.Value.ToString();
        return OnPersonalBestChanged.InvokeAsync(PersonalBest);
    }

    private Task OnSingleChanged(ChangeEventArgs e)
    {
        PersonalBest.Single = e.Value.ToString();
        return OnPersonalBestChanged.InvokeAsync(PersonalBest);
    }

    private Task OnAverageChanged(ChangeEventArgs e)
    {
        PersonalBest.Average = e.Value.ToString();
        return OnPersonalBestChanged.InvokeAsync(PersonalBest);
    }
}